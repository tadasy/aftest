<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>これはサイトBのコンバージョンページです</title>
</head>
<body>
<h1>[サイトB]これはコンバージョンページです</h1>
<p>iframeに <strong>"{"key":"conversion data"}"</strong> という文字列を渡します。</p>
<iframe id="site-a-cv" src="//localhost:8080/iframe_cv.html" height="300" width="50%"></iframe>
<script>
    (function () {
        const iframe = document.getElementById('site-a-cv').contentWindow;
        window.addEventListener('load', (event) => {
            console.log('iframeが完全に読み込まれました1');
            const data = {"order_id": "XXXXXX", "price": 1000};
            iframe.postMessage(data, 'http://localhost:8080');
        });
    })();
</script>
</body>
</html>